import{r as n,R as y}from"./index.3df4e929.js";import{C,S as O,e as M,y as v,T as U,o as k,c as H,u as E,p as g,$ as T,g as K,i as N,k as S,r as j}from"./d560a03f.js";import{s as A}from"./67fad66f.js";var F=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(F||{}),Q=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(Q||{});let V={[0]:e=>({...e,disclosureState:E(e.disclosureState,{[0]:1,[1]:0})}),[1]:e=>e.disclosureState===1?e:{...e,disclosureState:1},[4](e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},[5](e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},[2](e,r){return e.buttonId===r.buttonId?e:{...e,buttonId:r.buttonId}},[3](e,r){return e.panelId===r.panelId?e:{...e,panelId:r.panelId}}},R=n.exports.createContext(null);R.displayName="DisclosureContext";function $(e){let r=n.exports.useContext(R);if(r===null){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,$),t}return r}let h=n.exports.createContext(null);h.displayName="DisclosureAPIContext";function L(e){let r=n.exports.useContext(h);if(r===null){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,L),t}return r}let w=n.exports.createContext(null);w.displayName="DisclosurePanelContext";function X(){return n.exports.useContext(w)}function Y(e,r){return E(r.type,V,e,r)}let Z=n.exports.Fragment,q=C(function(e,r){let{defaultOpen:t=!1,...a}=e,s=`headlessui-disclosure-button-${M()}`,o=`headlessui-disclosure-panel-${M()}`,u=n.exports.useRef(null),m=v(r,U(f=>{u.current=f},e.as===void 0||e.as===n.exports.Fragment)),P=n.exports.useRef(null),I=n.exports.useRef(null),c=n.exports.useReducer(Y,{disclosureState:t?0:1,linkedPanel:!1,buttonRef:I,panelRef:P,buttonId:s,panelId:o}),[{disclosureState:p},i]=c;n.exports.useEffect(()=>i({type:2,buttonId:s}),[s,i]),n.exports.useEffect(()=>i({type:3,panelId:o}),[o,i]);let x=k(f=>{i({type:1});let b=N(u);if(!b)return;let B=(()=>f?f instanceof HTMLElement?f:f.current instanceof HTMLElement?f.current:b.getElementById(s):b.getElementById(s))();B==null||B.focus()}),D=n.exports.useMemo(()=>({close:x}),[x]),l=n.exports.useMemo(()=>({open:p===0,close:x}),[p,x]),d={ref:m};return y.createElement(R.Provider,{value:c},y.createElement(h.Provider,{value:D},y.createElement(H,{value:E(p,{[0]:g.Open,[1]:g.Closed})},T({ourProps:d,theirProps:a,slot:l,defaultTag:Z,name:"Disclosure"}))))}),z="button",G=C(function(e,r){let[t,a]=$("Disclosure.Button"),s=X(),o=s===null?!1:s===t.panelId,u=n.exports.useRef(null),m=v(u,r,o?null:t.buttonRef),P=k(l=>{var d;if(o){if(t.disclosureState===1)return;switch(l.key){case S.Space:case S.Enter:l.preventDefault(),l.stopPropagation(),a({type:0}),(d=t.buttonRef.current)==null||d.focus();break}}else switch(l.key){case S.Space:case S.Enter:l.preventDefault(),l.stopPropagation(),a({type:0});break}}),I=k(l=>{switch(l.key){case S.Space:l.preventDefault();break}}),c=k(l=>{var d;j(l.currentTarget)||e.disabled||(o?(a({type:0}),(d=t.buttonRef.current)==null||d.focus()):a({type:0}))}),p=n.exports.useMemo(()=>({open:t.disclosureState===0}),[t]),i=A(e,u),x=e,D=o?{ref:m,type:i,onKeyDown:P,onClick:c}:{ref:m,id:t.buttonId,type:i,"aria-expanded":e.disabled?void 0:t.disclosureState===0,"aria-controls":t.linkedPanel?t.panelId:void 0,onKeyDown:P,onKeyUp:I,onClick:c};return T({ourProps:D,theirProps:x,slot:p,defaultTag:z,name:"Disclosure.Button"})}),J="div",W=O.RenderStrategy|O.Static,_=C(function(e,r){let[t,a]=$("Disclosure.Panel"),{close:s}=L("Disclosure.Panel"),o=v(r,t.panelRef,p=>{a({type:p?4:5})}),u=K(),m=(()=>u!==null?u===g.Open:t.disclosureState===0)(),P=n.exports.useMemo(()=>({open:t.disclosureState===0,close:s}),[t,s]),I=e,c={ref:o,id:t.panelId};return y.createElement(w.Provider,{value:t.panelId},T({ourProps:c,theirProps:I,slot:P,defaultTag:J,features:W,visible:m,name:"Disclosure.Panel"}))}),ne=Object.assign(q,{Button:G,Panel:_});export{ne as O};
//# sourceMappingURL=3343d8c2.js.map

{"version":3,"file":"3b419385.js","sources":["../../../node_modules/@shopify/hydrogen/dist/esnext/utilities/video_parameters.js","../../../node_modules/@shopify/hydrogen/dist/esnext/components/Video/Video.js","../../../node_modules/@shopify/hydrogen/dist/esnext/components/ExternalVideo/ExternalVideo.js","../../../node_modules/@shopify/hydrogen/dist/esnext/components/MediaFile/MediaFile.js","../../../src/components/product/ProductGallery.client.jsx"],"sourcesContent":["import { useMemo } from 'react';\nexport function addParametersToEmbeddedVideoUrl(url, parameters) {\n    if (parameters == null) {\n        return url;\n    }\n    const params = Object.keys(parameters).reduce((accumulator, param) => {\n        const value = parameters[param];\n        if (value == null) {\n            return accumulator;\n        }\n        return accumulator + `&${param}=${value}`;\n    }, '');\n    return `${url}?${params}`;\n}\nexport function useEmbeddedVideoUrl(url, parameters) {\n    return useMemo(() => {\n        if (!parameters) {\n            return url;\n        }\n        return addParametersToEmbeddedVideoUrl(url, parameters);\n    }, [url, parameters]);\n}\n","import React from 'react';\nimport { shopifyImageLoader } from '../../utilities/index.js';\n/**\n * The `Video` component renders a `video` for the Storefront API's [Video object](https://shopify.dev/api/storefront/reference/products/video).\n */\nexport function Video(props) {\n    const { data, previewImageOptions, id = data.id, playsInline = true, controls = true, sourceProps = {}, ...passthroughProps } = props;\n    const posterUrl = shopifyImageLoader({\n        src: data.previewImage?.url ?? '',\n        ...previewImageOptions,\n    });\n    if (!data.sources) {\n        throw new Error(`<Video/> requires a 'data.sources' array`);\n    }\n    return (\n    // eslint-disable-next-line jsx-a11y/media-has-caption\n    React.createElement(\"video\", { ...passthroughProps, id: id, playsInline: playsInline, controls: controls, poster: posterUrl }, data.sources.map((source) => {\n        if (!(source?.url && source?.mimeType)) {\n            throw new Error(`<Video/> needs 'source.url' and 'source.mimeType'`);\n        }\n        return (React.createElement(\"source\", { ...sourceProps, key: source.url, src: source.url, type: source.mimeType }));\n    })));\n}\n","import React from 'react';\nimport { useEmbeddedVideoUrl } from '../../utilities/index.js';\n/**\n * The `ExternalVideo` component renders an embedded video for the Storefront\n * API's [ExternalVideo object](https://shopify.dev/api/storefront/reference/products/externalvideo).\n */\nexport function ExternalVideo(props) {\n    const { data, options, id = data.id, frameBorder = '0', allow = 'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture', allowFullScreen = true, loading = 'lazy', ...passthroughProps } = props;\n    if (!data.embedUrl) {\n        throw new Error(`<ExternalVideo/> requires the 'embedUrl' property`);\n    }\n    const url = useEmbeddedVideoUrl(data.embedUrl, options);\n    return (React.createElement(\"iframe\", { ...passthroughProps, id: id ?? data.embedUrl, frameBorder: frameBorder, allow: allow, allowFullScreen: allowFullScreen, src: url, loading: loading }));\n}\n","import React from 'react';\nimport { Image } from '../Image/index.js';\nimport { Video } from '../Video/index.js';\nimport { ExternalVideo } from '../ExternalVideo/index.js';\nimport { ModelViewer } from '../ModelViewer/index.js';\n/**\n * The `MediaFile` component renders the media for the Storefront API's\n * [Media object](https://shopify.dev/api/storefront/reference/products/media). It renders an `Image`, a\n * `Video`, an `ExternalVideo`, or a `ModelViewer` depending on the `mediaContentType` of the\n * `media` provided as a prop.\n */\nexport function MediaFile({ data, options, ...passthroughProps }) {\n    switch (data.mediaContentType) {\n        case 'IMAGE': {\n            const dataImage = data\n                .image;\n            if (!dataImage || !dataImage.url) {\n                console.warn(`No \"image\" property was found on the \"data\" prop for <MediaFile/>, for the \"type='image'\"`);\n                return null;\n            }\n            return (React.createElement(Image, { ...passthroughProps, data: dataImage, loaderOptions: options }));\n        }\n        case 'VIDEO':\n            return (React.createElement(Video, { ...passthroughProps, data: data, previewImageOptions: options }));\n        case 'EXTERNAL_VIDEO':\n            return (React.createElement(ExternalVideo, { ...passthroughProps, data: data, options: options }));\n        case 'MODEL_3D':\n            return (React.createElement(ModelViewer, { ...passthroughProps, data: data }));\n        default:\n            return null;\n    }\n}\n","import {MediaFile} from '@shopify/hydrogen/client';\nimport {ATTR_LOADING_EAGER} from '~/lib/const';\n\n/**\n * A client component that defines a media gallery for hosting images, 3D models, and videos of products\n */\nexport function ProductGallery({media, className}) {\n  if (!media.length) {\n    return null;\n  }\n\n  return (\n    <div\n      className={`swimlane md:grid-flow-row hiddenScroll md:p-0 md:overflow-x-auto md:grid-cols-2 ${className}`}\n    >\n      {media.map((med, i) => {\n        let mediaProps = {};\n        const isFirst = i === 0;\n        const isFourth = i === 3;\n        const isFullWidth = i % 3 === 0;\n\n        const data = {\n          ...med,\n          image: {\n            // @ts-ignore\n            ...med.image,\n            altText: med.alt || 'Product image',\n          },\n        };\n\n        switch (med.mediaContentType) {\n          case 'IMAGE':\n            mediaProps = {\n              width: 800,\n              widths: [400, 800, 1200, 1600, 2000, 2400],\n            };\n            break;\n          case 'VIDEO':\n            mediaProps = {\n              width: '100%',\n              autoPlay: true,\n              controls: false,\n              muted: true,\n              loop: true,\n              preload: 'auto',\n            };\n            break;\n          case 'EXTERNAL_VIDEO':\n            mediaProps = {width: '100%'};\n            break;\n          case 'MODEL_3D':\n            mediaProps = {\n              width: '100%',\n              interactionPromptThreshold: '0',\n              ar: true,\n              loading: ATTR_LOADING_EAGER,\n              disableZoom: true,\n            };\n            break;\n        }\n\n        if (i === 0 && med.mediaContentType === 'IMAGE') {\n          mediaProps.loading = ATTR_LOADING_EAGER;\n        }\n\n        const style = [\n          isFullWidth ? 'md:col-span-2' : 'md:col-span-1',\n          isFirst || isFourth ? '' : 'md:aspect-[4/5]',\n          'aspect-square snap-center card-image bg-white dark:bg-contrast/10 w-mobileGallery md:w-full',\n        ].join(' ');\n\n        return (\n          <div\n            className={style}\n            // @ts-ignore\n            key={med.id || med.image.id}\n          >\n            <MediaFile\n              tabIndex=\"0\"\n              className={`w-full h-full aspect-square fadeIn object-cover`}\n              data={data}\n              sizes={\n                isFullWidth\n                  ? '(min-width: 64em) 60vw, (min-width: 48em) 50vw, 90vw'\n                  : '(min-width: 64em) 30vw, (min-width: 48em) 25vw, 90vw'\n              }\n              // @ts-ignore\n              options={{\n                crop: 'center',\n                scale: 2,\n              }}\n              {...mediaProps}\n            />\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n"],"names":["addParametersToEmbeddedVideoUrl","url","parameters","params","accumulator","param","value","useEmbeddedVideoUrl","useMemo","Video","props","data","previewImageOptions","id","playsInline","controls","sourceProps","passthroughProps","posterUrl","shopifyImageLoader","_b","_a","React","source","ExternalVideo","options","frameBorder","allow","allowFullScreen","loading","MediaFile","dataImage","Image","ModelViewer","ProductGallery","media","className","length","map","med","i","mediaProps","isFirst","isFourth","isFullWidth","image","altText","alt","mediaContentType","width","widths","autoPlay","muted","loop","preload","interactionPromptThreshold","ar","ATTR_LOADING_EAGER","disableZoom","style","join","crop","scale"],"mappings":"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"}
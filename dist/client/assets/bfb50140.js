import{R as g,r as o,j as r,a as i,F as m}from"./index.3df4e929.js";import{Link as b}from"./b41df3cf.js";import"./c84c5730.js";import"./70104689.js";import"./85933035.js";import{u,S as R}from"./c6cd1bf5.js";import"./651ab248.js";import{M as w}from"./b2277ae6.js";import{C}from"./e5634198.js";import"./969196d1.js";import"./33faabbc.js";import{B as N}from"./59e21d41.js";import"./94ad6cc2.js";import{T as d}from"./d52eab33.js";import{f as A}from"./d5f49b69.js";import{n as E,H as S,t as P}from"./d560a03f.js";import{ProductCard as j}from"./1b995e19.js";/* empty css        */import{I as q}from"./3ef92668.js";import{BaseButton as $}from"./34a73be2.js";function B({children:e,line:t}){return g.createElement(C.Provider,{value:t},e)}function f(){const e=o.exports.useContext(C);if(e==null)throw new Error("Expected a cart line context but none was found");return e}function O(e){const t=f(),{priceType:n="regular",...a}=e,s=n==="regular"?t.cost.totalAmount:t.cost.compareAtAmountPerQuantity;return s==null?null:g.createElement(w,{...a,data:s})}function I(e){const t=f(),{as:n,...a}=e,s=n||"span";return g.createElement(s,{...a},t.quantity)}function v(e){const{status:t,linesRemove:n,linesUpdate:a}=u(),s=f(),{children:c,adjust:l,onClick:h,...p}=e,L=o.exports.useCallback(()=>{if(l==="remove"){n([s.id]);return}const y=l==="decrease"?s.quantity-1:s.quantity+1;if(y<=0){n([s.id]);return}a([{id:s.id,quantity:y}])},[l,s.id,s.quantity,n,a]);return r($,{disabled:t!=="idle",onClick:h,defaultOnClick:L,...p,children:c})}function Q(e){const{lines:t}=u(),n=o.exports.useMemo(()=>t.map(a=>({id:a.merchandise.id,quantity:a.quantity})),[t]);return r(R,{variantIdsAndQuantities:n,...e})}function x({as:e="div",width:t,height:n,className:a,...s}){const c=E("rounded bg-primary/10",a);return r(e,{...s,width:t,height:n,className:c})}function F(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function T(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var we=typeof window!="undefined",U=function(e){o.exports.useEffect(e,[])},D=U,M=function(e){var t=o.exports.useRef(e);t.current=e,D(function(){return function(){return t.current()}})},_=M,z=function(e){var t=o.exports.useRef(0),n=o.exports.useState(e),a=n[0],s=n[1],c=o.exports.useCallback(function(l){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){s(l)})},[]);return _(function(){cancelAnimationFrame(t.current)}),[a,c]},H=z,V=function(e){var t=H({x:0,y:0}),n=t[0],a=t[1];return o.exports.useEffect(function(){var s=function(){e.current&&a({x:e.current.scrollLeft,y:e.current.scrollTop})};return e.current&&F(e.current,"scroll",s,{capture:!1,passive:!0}),function(){e.current&&T(e.current,"scroll",s)}},[e]),n},k=V;function W({layout:e,onClose:t}){const{lines:n}=u(),a=o.exports.useRef(null),{y:s}=k(a);if(n.length===0)return r(K,{onClose:t,layout:e});const c={drawer:"grid grid-cols-1 h-screen-no-nav grid-rows-[1fr_auto]",page:"pb-12 grid md:grid-cols-2 md:items-start gap-8 md:gap-8 lg:gap-12"},l={drawer:"px-6 pb-6 sm-max:pt-2 overflow-auto transition md:px-12",page:"flex-grow md:translate-y-4"},h={drawer:"grid gap-6 p-6 border-t md:px-12",page:"sticky top-nav grid gap-6 p-4 md:px-6 md:translate-y-4 bg-primary/5 rounded w-full"};return i("form",{className:c[e],children:[r("section",{ref:a,"aria-labelledby":"cart-contents",className:`${l[e]} ${s>0?"border-t":""}`,children:r("ul",{className:"grid gap-6 md:gap-10",children:n.map(p=>r(B,{line:p,children:r(Z,{})},p.id))})}),i("section",{"aria-labelledby":"summary-heading",className:h[e],children:[r("h2",{id:"summary-heading",className:"sr-only",children:"Order summary"}),r(J,{}),r(G,{})]})]})}function G(){const{checkoutUrl:e}=u();return r(m,{children:i("div",{className:"grid gap-4",children:[e?r(b,{to:e,prefetch:!1,target:"_self",children:r(N,{as:"span",width:"full",children:"Continue to Checkout"})}):null,r(Q,{})]})})}function J(){var t;const{cost:e}=u();return r(m,{children:r("dl",{className:"grid",children:i("div",{className:"flex items-center justify-between font-medium",children:[r(d,{as:"dt",children:"Subtotal"}),r(d,{as:"dd",children:(t=e==null?void 0:e.subtotalAmount)!=null&&t.amount?r(w,{data:e==null?void 0:e.subtotalAmount}):"-"})]})})})}var Ce=Object.freeze(Object.defineProperty({__proto__:null,CartDetails:W},Symbol.toStringTag,{value:"Module"}));function K({onClose:e,layout:t="drawer"}){const n=o.exports.useRef(null),{y:a}=k(n),s={drawer:`grid content-start gap-4 px-6 pb-8 transition overflow-y-scroll md:gap-12 md:px-12 h-screen-no-nav md:pb-12 ${a>0?"border-t":""}`,page:"grid pb-12 w-full md:items-start gap-4 md:gap-8 lg:gap-12"},c={drawer:"",page:"md:grid-cols-4 sm:grid-col-4"};return i("div",{ref:n,className:s[t],children:[i("section",{className:"grid gap-6",children:[r(d,{format:!0,children:"Looks like you haven\u2019t added anything yet, let\u2019s get you started!"}),r("div",{children:r(N,{onClick:e,children:"Continue shopping"})})]}),i("section",{className:"grid gap-8 pt-4",children:[r(S,{format:!0,size:"copy",children:"Shop Best Sellers"}),r("div",{className:`grid grid-cols-2 gap-x-6 gap-y-8 ${c[t]}`,children:r(o.exports.Suspense,{fallback:r(Y,{}),children:r(X,{onClose:e})})})]})]})}function X({onClose:e}){const t=A("/api/bestSellers");if(!t.ok)return console.error(`Unable to load top products ${t.url} returned a ${t.status}`),null;const n=t.json();return n.length===0?r(d,{format:!0,children:"No products found."}):r(m,{children:n.map(a=>r(j,{product:a,onClick:e},a.id))})}function Y(){return r(m,{children:[...new Array(4)].map((e,t)=>i("div",{className:"grid gap-2",children:[r(x,{className:"aspect-[3/4]"}),r(x,{className:"w-32 h-4"})]},t))})}function Z(){const{linesRemove:e}=u(),{id:t,quantity:n,merchandise:a}=f();return i("li",{className:"flex gap-4",children:[r("div",{className:"flex-shrink",children:r(q,{width:112,height:112,widths:[112],data:a.image,loaderOptions:{scale:2,crop:"center"},className:"object-cover object-center w-24 h-24 border rounded md:w-28 md:h-28"})}),i("div",{className:"flex justify-between flex-grow",children:[i("div",{className:"grid gap-2",children:[r(S,{as:"h3",size:"copy",children:r(b,{to:`/products/${a.product.handle}`,children:a.product.title})}),r("div",{className:"grid pb-2",children:((a==null?void 0:a.selectedOptions)||[]).map(s=>i(d,{color:"subtle",children:[s.name,": ",s.value]},s.name))}),i("div",{className:"flex items-center gap-2",children:[r("div",{className:"flex justify-start text-copy",children:r(ee,{lineId:t,quantity:n})}),i("button",{type:"button",onClick:()=>e([t]),className:"flex items-center justify-center w-10 h-10 border rounded",children:[r("span",{className:"sr-only",children:"Remove"}),r(P,{"aria-hidden":"true"})]})]})]}),r(d,{children:r(O,{as:"span"})})]})]},t)}function ee({lineId:e,quantity:t}){return i(m,{children:[i("label",{htmlFor:`quantity-${e}`,className:"sr-only",children:["Quantity, ",t]}),i("div",{className:"flex items-center border rounded",children:[r(v,{adjust:"decrease","aria-label":"Decrease quantity",className:"w-10 h-10 transition text-primary/50 hover:text-primary disabled:cursor-wait",children:"\u2212"}),r(I,{as:"div",className:"px-2 text-center"}),r(v,{adjust:"increase","aria-label":"Increase quantity",className:"w-10 h-10 transition text-primary/50 hover:text-primary disabled:cursor-wait",children:"+"})]})]})}export{W as C,T as a,Ce as b,we as i,F as o,H as u};
//# sourceMappingURL=bfb50140.js.map

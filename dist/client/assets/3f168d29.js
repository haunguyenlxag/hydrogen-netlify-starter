import{r as o,j as r,a}from"./index.3df4e929.js";import"./b41df3cf.js";import"./c84c5730.js";import"./70104689.js";import"./85933035.js";import"./651ab248.js";import"./e5634198.js";import"./969196d1.js";import"./33faabbc.js";import{u as g}from"./1745953b.js";import{g as f}from"./6eb8b136.js";import"./8c31b2d6.js";import"./92add5bc.js";import"./6a41f177.js";import"./4e9f3bc7.js";import"./d6282b27.js";function z({id:i,resetToken:n}){const l=g(),[s,h]=o.exports.useState(null),[c,x]=o.exports.useState(""),[d,u]=o.exports.useState(null),[w,b]=o.exports.useState(""),[p,m]=o.exports.useState(null);function v(e){u(null),m(null);let t=!1;return e.password.validity.valid||(t=!0,u(e.password.validity.valueMissing?"Please enter a password":"Passwords must be at least 6 characters")),e.passwordConfirm.validity.valid||(t=!0,m(e.password.validity.valueMissing?"Please re-enter a password":"Passwords must be at least 6 characters")),c!==w&&(t=!0,m("The two password entered did not match.")),t}async function y(e){if(e.preventDefault(),v(e.currentTarget))return;const t=await N({id:i,resetToken:n,password:c});if(t.error){h(t.error);return}l("/account")}return r("div",{className:"flex justify-center my-24 px-4",children:a("div",{className:"max-w-md w-full",children:[r("h1",{className:"text-4xl",children:"Reset Password."}),r("p",{className:"mt-4",children:"Enter a new password for your account."}),a("form",{noValidate:!0,className:"pt-6 pb-8 mt-4 mb-4",onSubmit:y,children:[s&&r("div",{className:"flex items-center justify-center mb-6 bg-zinc-500",children:r("p",{className:"m-4 text-s text-contrast",children:s})}),a("div",{className:"mb-3",children:[r("input",{className:`mb-1 ${f(d)}`,id:"password",name:"password",type:"password",autoComplete:"current-password",placeholder:"Password","aria-label":"Password",autoFocus:!0,value:c,minLength:8,required:!0,onChange:e=>{x(e.target.value)}}),a("p",{className:`text-red-500 text-xs ${d?"":"invisible"}`,children:[d," \xA0"]})]}),a("div",{className:"mb-3",children:[r("input",{className:`mb-1 ${f(p)}`,id:"passwordConfirm",name:"passwordConfirm",type:"password",autoComplete:"current-password",placeholder:"Re-enter password","aria-label":"Re-enter password",value:w,required:!0,minLength:8,onChange:e=>{b(e.target.value)}}),a("p",{className:`text-red-500 text-xs ${p?"":"invisible"}`,children:[p," \xA0"]})]}),r("div",{className:"flex items-center justify-between",children:r("button",{className:"bg-primary text-contrast rounded py-2 px-4 focus:shadow-outline block w-full",type:"submit",children:"Save"})})]})]})})}async function N({id:i,resetToken:n,password:l}){try{const s=await fetch("/account/reset",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:i,resetToken:n,password:l})});return s.ok?{}:s.json()}catch(s){return{error:s.toString()}}}export{z as AccountPasswordResetForm,N as callPasswordResetApi};
//# sourceMappingURL=3f168d29.js.map

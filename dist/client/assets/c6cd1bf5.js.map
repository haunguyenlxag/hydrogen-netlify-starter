{"version":3,"file":"c6cd1bf5.js","sources":["../../../node_modules/@shopify/hydrogen/dist/esnext/hooks/useCart/useCart.js","../../../node_modules/@shopify/hydrogen/dist/esnext/components/ShopPayButton/ShopPayButton.client.js"],"sourcesContent":["import React from 'react';\nimport { CartContext } from '../../components/CartProvider/context.js';\n/**\n * The `useCart` hook provides access to the cart object. It must be a descendent of a `CartProvider` component.\n */\nexport function useCart() {\n    const context = React.useContext(CartContext);\n    if (!context) {\n        throw new Error('Expected a Cart Context, but no Cart Context was found');\n    }\n    return context;\n}\n","import React from 'react';\nimport { useShop } from '../../foundation/useShop/index.js';\nimport { useLoadScript } from '../../hooks/useLoadScript/useLoadScript.client.js';\nconst URL = 'https://cdn.shopify.com/shopifycloud/shop-js/v1.0/client.js';\n/**\n * The `ShopPayButton` component renders a button that redirects to the Shop Pay checkout.\n */\nexport function ShopPayButton({ variantIds, className, variantIdsAndQuantities, width, }) {\n    const { storeDomain } = useShop();\n    const shopPayLoadedStatus = useLoadScript(URL);\n    let ids;\n    if (variantIds && variantIdsAndQuantities) {\n        throw new Error(DoublePropsErrorMessage);\n    }\n    if (variantIds) {\n        ids = variantIds.reduce((prev, curr) => {\n            const bareId = getIdFromGid(curr);\n            if (bareId) {\n                prev.push(bareId);\n            }\n            return prev;\n        }, []);\n    }\n    else if (variantIdsAndQuantities) {\n        ids = variantIdsAndQuantities.reduce((prev, curr) => {\n            const bareId = getIdFromGid(curr?.id);\n            if (bareId) {\n                prev.push(`${bareId}:${curr?.quantity ?? 1}`);\n            }\n            return prev;\n        }, []);\n    }\n    else {\n        throw new Error(MissingPropsErrorMessage);\n    }\n    const style = width\n        ? {\n            '--shop-pay-button-width': width,\n        }\n        : undefined;\n    return (\n    /* eslint-disable jsx-a11y/no-noninteractive-tabindex */\n    React.createElement(\"div\", { className: className, tabIndex: 0, style: style }, shopPayLoadedStatus === 'done' && (React.createElement(\"shop-pay-button\", { \"store-url\": `https://${storeDomain}`, variants: ids.join(',') })))\n    /* eslint-enable jsx-a11y/no-noninteractive-tabindex */\n    );\n}\n/**\n * Takes a string in the format of \"gid://shopify/ProductVariant/41007289630776\" and returns a string of the ID part at the end: \"41007289630776\"\n */\nexport function getIdFromGid(id) {\n    if (!id)\n        return;\n    return id.split('/').pop();\n}\nexport const MissingPropsErrorMessage = `You must pass in either \"variantIds\" or \"variantIdsAndQuantities\" to ShopPayButton`;\nexport const DoublePropsErrorMessage = `You must provide either a variantIds or variantIdsAndQuantities prop, but not both in the ShopPayButton component`;\n"],"names":["useCart","context","React","CartContext","URL","ShopPayButton","variantIds","className","variantIdsAndQuantities","width","storeDomain","useShop","shopPayLoadedStatus","useLoadScript","ids","DoublePropsErrorMessage","prev","curr","bareId","getIdFromGid","_a","MissingPropsErrorMessage","style","id"],"mappings":"8IAKO,SAASA,GAAU,CACtB,MAAMC,EAAUC,EAAM,WAAWC,CAAW,EAC5C,GAAI,CAACF,EACD,MAAM,IAAI,MAAM,wDAAwD,EAE5E,OAAOA,CACX,CCRA,MAAMG,EAAM,8DAIL,SAASC,EAAc,CAAE,WAAAC,EAAY,UAAAC,EAAW,wBAAAC,EAAyB,MAAAC,CAAK,EAAK,CACtF,KAAM,CAAE,YAAAC,GAAgBC,IAClBC,EAAsBC,EAAcT,CAAG,EAC7C,IAAIU,EACJ,GAAIR,GAAcE,EACd,MAAM,IAAI,MAAMO,CAAuB,EAE3C,GAAIT,EACAQ,EAAMR,EAAW,OAAO,CAACU,EAAMC,IAAS,CACpC,MAAMC,EAASC,EAAaF,CAAI,EAChC,OAAIC,GACAF,EAAK,KAAKE,CAAM,EAEbF,CACV,EAAE,CAAE,CAAA,UAEAR,EACLM,EAAMN,EAAwB,OAAO,CAACQ,EAAMC,IAAS,OACjD,MAAMC,EAASC,EAAaF,GAAA,YAAAA,EAAM,EAAE,EACpC,OAAIC,GACAF,EAAK,KAAK,GAAGE,MAAUE,EAAAH,GAAA,YAAAA,EAAM,WAAN,KAAAG,EAAkB,GAAG,EAEzCJ,CACV,EAAE,CAAE,CAAA,MAGL,OAAM,IAAI,MAAMK,CAAwB,EAE5C,MAAMC,EAAQb,EACR,CACE,0BAA2BA,CAC9B,EACC,OACN,OAEAP,EAAM,cAAc,MAAO,CAAE,UAAWK,EAAW,SAAU,EAAG,MAAOe,GAASV,IAAwB,QAAWV,EAAM,cAAc,kBAAmB,CAAE,YAAa,WAAWQ,IAAe,SAAUI,EAAI,KAAK,GAAG,CAAC,CAAE,CAAE,CAGlO,CAIO,SAASK,EAAaI,EAAI,CAC7B,GAAI,EAACA,EAEL,OAAOA,EAAG,MAAM,GAAG,EAAE,IAAG,CAC5B,CACO,MAAMF,EAA2B,qFAC3BN,EAA0B"}
import{r as o,j as t,a}from"./index.3df4e929.js";import"./b41df3cf.js";import"./c84c5730.js";import"./70104689.js";import"./85933035.js";import"./651ab248.js";import"./e5634198.js";import"./969196d1.js";import"./33faabbc.js";import{u as g}from"./1745953b.js";import{g as f}from"./6eb8b136.js";import"./8c31b2d6.js";import"./92add5bc.js";import"./6a41f177.js";import"./4e9f3bc7.js";import"./d6282b27.js";function F({id:i,activationToken:n}){const l=g(),[r,h]=o.exports.useState(null),[c,v]=o.exports.useState(""),[p,u]=o.exports.useState(null),[w,x]=o.exports.useState(""),[d,m]=o.exports.useState(null);function b(e){u(null),m(null);let s=!1;return e.password.validity.valid||(s=!0,u(e.password.validity.valueMissing?"Please enter a password":"Passwords must be at least 6 characters")),e.passwordConfirm.validity.valid||(s=!0,m(e.password.validity.valueMissing?"Please re-enter a password":"Passwords must be at least 6 characters")),c!==w&&(s=!0,m("The two passwords entered did not match.")),s}async function y(e){if(e.preventDefault(),b(e.currentTarget))return;const s=await N({id:i,activationToken:n,password:c});if(s.error){h(s.error);return}l("/account")}return t("div",{className:"flex justify-center",children:a("div",{className:"w-full max-w-md",children:[t("h1",{className:"text-4xl",children:"Activate Account."}),t("p",{className:"mt-4",children:"Create your password to activate your account."}),a("form",{noValidate:!0,className:"pt-6 pb-8 mt-4 mb-4",onSubmit:y,children:[r&&t("div",{className:"flex items-center justify-center mb-6 bg-primary/30",children:t("p",{className:"m-4 text-s text-contrast",children:r})}),a("div",{className:"mb-4",children:[t("input",{className:`mb-1 ${f(p)}`,id:"password",name:"password",type:"password",autoComplete:"current-password",placeholder:"Password","aria-label":"Password",value:c,minLength:8,required:!0,onChange:e=>{v(e.target.value)}}),a("p",{className:`text-red-500 text-xs ${p?"":"invisible"}`,children:[p," \xA0"]})]}),a("div",{className:"mb-4",children:[t("input",{className:`mb-1 ${f(d)}`,id:"passwordConfirm",name:"passwordConfirm",type:"password",autoComplete:"current-password",placeholder:"Re-enter password","aria-label":"Re-enter password",value:w,required:!0,minLength:8,onChange:e=>{x(e.target.value)}}),a("p",{className:`text-red-500 text-xs ${d?"":"invisible"}`,children:[d," \xA0"]})]}),t("div",{className:"flex items-center justify-between",children:t("button",{className:"block w-full px-4 py-2 text-contrast uppercase bg-primary focus:shadow-outline",type:"submit",children:"Save"})})]})]})})}async function N({id:i,activationToken:n,password:l}){try{const r=await fetch("/account/activate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:i,activationToken:n,password:l})});return r.ok?{}:r.json()}catch(r){return{error:r.toString()}}}export{F as AccountActivateForm};
//# sourceMappingURL=71530049.js.map
